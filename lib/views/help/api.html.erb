<<<<<<< HEAD
<% @title = "Aplikacijsko programsko sučelje - API" %>

<%= render :partial => 'sidebar' %>

<div id="left_column_flip">
<h1><%=@title %></h1>

<h2> Uvod </h2>

<p>Ova stranica objašnjava kako programeri mogu napraviti interakciju internetskih stranica i programa s <i><%= site_name %></i> putem API-ja.
</p>

<p><i><%= site_name %></i> još nema potpuni API, ali postepeno dodajemo mnoge stvari, nakon što ih vi zatražite.
</p>

<hr>

<h2> 1. Kreiranje novog prigovora </h2>

<p>Za poticanje korisnika na pisanje novih prigovora određenim pravnim osobama, koristite URL-ove u ovom obliku:
<%= link_to new_request_to_body_url(:url_name => "grad_zagreb") , new_request_to_body_url(:url_name => "grad_zagreb") %>.
Ovo su parametri koje možete dodati tim URL-ovima, bilo u URL-u ili iz oblika:

<ul>
    <li> <strong>title</strong> (naslov) - zadani sažetak novog prigovora</li>
    <li> <strong>default_letter</strong> (zadano pismo) - zadani tekst u pismu. Pozdravni tekst (Poštovani...) i potpis (Lijep pozdrav...) su postavljeni oko ovog teksta</li>
    <li> <strong>body</strong> (pravna osoba) - kao alternativa default_letter, ovo postavlja cjelokupni tekst prigovora, tako da možete prilagoditi pozdravni tekst i potpis</li>
    <li> <strong>tags</strong> (oznake) - razmakom odvojen popis oznaka, tako da ga lakše možete pronaći i povezati kasnije napravljene zahtjeve, npr. prigovor potrošački_broj:12345. Dvotočka predstavlja računalnu oznaku. Vrijednosti računalne oznake mogu uključivati dvotočke, korisne za URL-ove., e.g. <em>prigovor trgovina_lokacija:12345</em>; Dvotočka predstavlja računalnu oznaku; vrijednosti računalne oznake mogu uključivati dvotočke, te korisne URI</li>
</ul>

<hr>

<h2> 2. RSS (zapravo Atom) </h2>

<p>Postoje Atom izvori na većini stranica koje popisuju prigovore, koje možete koristiti kako biste dobili novosti i poveznice u XML formatu. Pronađite URL od Atom izvora na jedan od sljedećih načina:
<ul>
    <li>Pronađite <%= image_tag "feed-16.png", :alt => "" %> RSS link.</li>
    <li>Potražite <tt>&lt;link rel="alternate" type="application/atom+xml"&gt;</tt> oznaku u sadržaju HTML-a.</li>
    <li>Dodajte <tt>/feed</tt> na početak novog URL-a.
</ul>

<p>Preciznije rečeno, čak i kompliciraniji upiti za pretraživanje sadrže Atom izvore. S njima možete raditi mnoge stvari, kao što je pretraživanje prema vrsti pravne osobe, prema vrsti datoteke, prema rasponu podataka ili prema statusu. Pogledajte <a href="/advancedsearch">savjete za napredno pretraživanje</a> za detalje.

<hr>

<h2> 3. JSON strukturirani podaci </h2>

<p>Dosta internetskih stranica ima JSON verzije, koje omogućavaju preuzimanje podataka o objektima u strukturiranom obliku. Pronađite ih pomoću:
<ul>
    <li>Dodajući <tt>.json</tt> na kraj URL-a.</li>
    <li>Potražite <tt>&lt;link rel="alternate" type="application/json"&gt;</tt> oznaku u sadržaju HTML-a.</li>
</ul>
</p>

<p>Prigovori, korisnici i pravne osobe - svi su JSON verzije koje sadrže osnovne informacije o njima. Svaki Atom izvor ima svoj JSON ekvivalent, koji sadrži informacije s popisom događanja unutar izvora.
</p>

<hr>
<h2> 4. Popis pravnih osoba </h2>

<p>
Datoteka s popisom sadrži nazive svih pravnih osoba na <i><%= site_name %></i> te je dostupan na poveznici:
<%= link_to "all-authorities.csv", all_public_bodies_csv_url() %>
</p>

<p>Zaglavlje popisa pravnih osoba sadrži nazive informacija dostupnih u datoteci:<br>
<i>Name, Short name, URL name, Tags, Home page, Publication scheme, Disclosure log, Notes, Created at, Updated at, Version</i></p>

	<p class="form_note">
    Glavni izvor informacija za popis pravnih osoba je NKD nacionalna klasifikacija pravnih osoba, skup podataka koji piše i održava <strong>Državni zavod za statistiku</strong>. Osim tog popisa koristimo i <a href="http://data.gov.hr/dataset/azurirani-popis-tijela-javne-vlasti">popis tijela javne vlasti</a> koje održava <strong>Povjerenik za informiranje</strong> a ove skupove podataka možete pronaći na portalu otvorenih podataka <a href="http://data.gov.hr">data.gov.hr</a>.
    </p>

<hr>

<p>Molimo, <a href="/help/contact">kontaktirajte nas</a> ukoliko vam je potreban API dodatak kojeg trenutno nema. Ovo je zaista posao u tijeku i mi dodajmo stvari kad nas to ljudi <strong>zatraže</strong>.</p>

<div id="hash_link_padding"></div>

</div>
=======
<% @title = "About our API" %>

<%= render :partial => 'sidebar' %>

<div id="left_column_flip" class="left_column_flip">
  <h1><%=@title %></h1>
  <dl>
    <dt>Introduction</dt>
    <dd>
      <p>This page explains how programmers can make other websites and software
        interact with  <%= site_name %> via an "API".
      </p>

      <p> <%= site_name %> does not have a full API yet, but we are gradually adding
        lots of things that are similar in use to an API as they are requested.
      </p>
    </dd>

    <dt>Linking to new requests</dt>
    <dd>
      <p>To encourage your users to make links to a particular public authority, use URLs of the form
        <%= link_to new_request_to_body_path(:url_name => "liverpool_city_council") , new_request_to_body_path(:url_name => "liverpool_city_council") %>.
        These are the parameters you can add to those URLs, either in the URL or from a form.
      </p>
        <ul>
          <li> <strong>title</strong> - default summary of the new request.</li>
          <li> <strong>default_letter</strong> - default text of the body of the letter. The salutation (Dear...) and signoff (Yours...) are wrapped round this. </li>
          <li> <strong>body</strong> - as an alternative to default_letter, this sets the default entire text of the request, so you can customise the salutation and signoff. </li>
          <li> <strong>tags</strong> - space separated list of tags, so you can find and link up any requests made later, e.g. <em>openlylocal spending_id:12345</em>. The : indicates it is a machine tag. The values of machine tags may also include colons, useful for URIs.
        </ul>
    </dd>

    <dt>RSS (actually, Atom) feeds</dt>
    <dd>
      <p>There are Atom feeds on most pages which list FOI requests, which you can
        use to get updates and links in XML format. Find the URL of the Atom feed in
        one of these ways:
      </p>
        <ul>
          <li>Look for the <%= image_tag "feed-16.png", :alt => "RSS icon" %> RSS feed links.</li>
          <li>Examine the <code>&lt;link rel="alternate" type="application/atom+xml"&gt;</code> tag in the head of the HTML. </li>
          <li>Add <code>/feed</code> to the start of another URL.
        </ul>

        <p>In particular, even complicated search queries have Atom feeds.
          You can do all sorts of things with them, such as query by authority, by file
          type, by date range, or by status. See the <a href="<%= advanced_search_path %>">advanced search
            tips</a> for details.
        </p>
    </dd>

    <dt>JSON structured data</dt>
    <dd>
      <p>Quite a few pages have JSON versions, which let you download information about
        objects in a structured form. Find them by:
      </p>
      <ul>
        <li>Adding <code>.json</code> to the end of the URL. </li>
        <li>Look for the <code>&lt;link rel="alternate" type="application/json"&gt;</code> tag in the head of the HTML. </li>
      </ul>

      <p>Requests, users and authorities all have JSON versions containing basic
        information about them. Every Atom feed has a JSON equivalent, containing
        information about the list of events in the feed.
      </p>
    </dd>

    <dt>Spreadsheet of all authorities</dt>
    <dd>
      <p>
        A spreadsheet file listing every body in <%= site_name %> is available:
        <%= link_to "all-authorities.csv", all_public_bodies_csv_path %>
      </p>

    </dd>


    <dt> 5. Write API </dt>
    <dd>
      <p>
        The write API is designed to be used by authorities to create their own requests in the system. The API is currently used by mySociety's <a href="https://github.com/mysociety/foi-register">FOI Register software</a> to support using Alaveteli as a disclosure log for all FOI activity at a particular public body. More technical information about the write API is available on the <a href="https://github.com/mysociety/alaveteli/wiki/API#write-api">Alaveteli wiki</a>.
      </p>
    </dd>
  </dl>

  <p>Please <a href="<%= help_contact_path %>">contact us</a> if you need an API feature that isn't there yet. It's
    very much a work in progress, and we do add things when people ask us to.</p>

  <div id="hash_link_padding"></div>
</div>
>>>>>>> mysociety/master
